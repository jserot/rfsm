type t_data = int -- Par ex

fsm model Emetteur(
  in h: event,
  in r_rdy: bool,
  out data: t_data,
  out e_rdy: bool)
{
  states: E1, E2;
  vars: cnt: int;
  trans:
  | E1 -> E2 on h when r_rdy=1 with data:=cnt, cnt:=cnt+1, e_rdy:=1
  | E2 -> E1 on h when r_rdy=0 with e_rdy:=0;
  itrans:
  | -> E1 with e_rdy:=0,cnt:=1;
}
